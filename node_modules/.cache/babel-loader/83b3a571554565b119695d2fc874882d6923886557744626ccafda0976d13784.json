{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import{useRef}from\"react\";import{useIsomorphicLayoutEffect}from\"./useIsomorphicLayoutEffect\";const isBrowser=typeof window!==`undefined`;function getScrollPosition(_ref){let{element,useWindow}=_ref;if(!isBrowser)return{x:0,y:0};const target=element?element.current:document.body;const position=target.getBoundingClientRect();return useWindow?{x:window.scrollX,y:window.scrollY}:{x:position.left,y:position.top};}export function useScrollPosition(effect,deps,element,useWindow,wait){const position=useRef(getScrollPosition({useWindow}));let throttleTimeout=null;const callBack=()=>{const currPos=getScrollPosition({element,useWindow});effect({prevPos:position.current,currPos});position.current=currPos;throttleTimeout=null;};useIsomorphicLayoutEffect(()=>{if(!isBrowser){return;}const handleScroll=()=>{if(wait){if(throttleTimeout===null){throttleTimeout=setTimeout(callBack,wait);}}else{callBack();}};window.addEventListener(\"scroll\",handleScroll);return()=>{window.removeEventListener(\"scroll\",handleScroll);throttleTimeout&&clearTimeout(throttleTimeout);};},deps);}useScrollPosition.defaultProps={deps:[],element:false,useWindow:false,wait:null};","map":{"version":3,"names":["useRef","useIsomorphicLayoutEffect","isBrowser","window","getScrollPosition","_ref","element","useWindow","x","y","target","current","document","body","position","getBoundingClientRect","scrollX","scrollY","left","top","useScrollPosition","effect","deps","wait","throttleTimeout","callBack","currPos","prevPos","handleScroll","setTimeout","addEventListener","removeEventListener","clearTimeout","defaultProps"],"sources":["C:/Users/jhsup/C_Documents/JohnnyHuang101.github.io/src/hooks/useScrollPosition.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useRef } from \"react\";\r\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect\";\r\n\r\nconst isBrowser = typeof window !== `undefined`;\r\n\r\nfunction getScrollPosition({ element, useWindow }) {\r\n  if (!isBrowser) return { x: 0, y: 0 };\r\n\r\n  const target = element ? element.current : document.body;\r\n  const position = target.getBoundingClientRect();\r\n\r\n  return useWindow\r\n    ? { x: window.scrollX, y: window.scrollY }\r\n    : { x: position.left, y: position.top };\r\n}\r\n\r\nexport function useScrollPosition(effect, deps, element, useWindow, wait) {\r\n  const position = useRef(getScrollPosition({ useWindow }));\r\n\r\n  let throttleTimeout = null;\r\n\r\n  const callBack = () => {\r\n    const currPos = getScrollPosition({ element, useWindow });\r\n    effect({ prevPos: position.current, currPos });\r\n    position.current = currPos;\r\n    throttleTimeout = null;\r\n  };\r\n\r\n  useIsomorphicLayoutEffect(() => {\r\n    if (!isBrowser) {\r\n      return;\r\n    }\r\n\r\n    const handleScroll = () => {\r\n      if (wait) {\r\n        if (throttleTimeout === null) {\r\n          throttleTimeout = setTimeout(callBack, wait);\r\n        }\r\n      } else {\r\n        callBack();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n      throttleTimeout && clearTimeout(throttleTimeout);\r\n    };\r\n  }, deps);\r\n}\r\n\r\nuseScrollPosition.defaultProps = {\r\n  deps: [],\r\n  element: false,\r\n  useWindow: false,\r\n  wait: null,\r\n};\r\n"],"mappings":"AAAA,gDACA,OAASA,MAAM,KAAQ,OAAO,CAC9B,OAASC,yBAAyB,KAAQ,6BAA6B,CAEvE,KAAM,CAAAC,SAAS,CAAG,MAAO,CAAAC,MAAM,GAAK,WAAW,CAE/C,QAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAAyB,IAAxB,CAAEC,OAAO,CAAEC,SAAU,CAAC,CAAAF,IAAA,CAC/C,GAAI,CAACH,SAAS,CAAE,MAAO,CAAEM,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAErC,KAAM,CAAAC,MAAM,CAAGJ,OAAO,CAAGA,OAAO,CAACK,OAAO,CAAGC,QAAQ,CAACC,IAAI,CACxD,KAAM,CAAAC,QAAQ,CAAGJ,MAAM,CAACK,qBAAqB,CAAC,CAAC,CAE/C,MAAO,CAAAR,SAAS,CACZ,CAAEC,CAAC,CAAEL,MAAM,CAACa,OAAO,CAAEP,CAAC,CAAEN,MAAM,CAACc,OAAQ,CAAC,CACxC,CAAET,CAAC,CAAEM,QAAQ,CAACI,IAAI,CAAET,CAAC,CAAEK,QAAQ,CAACK,GAAI,CAAC,CAC3C,CAEA,MAAO,SAAS,CAAAC,iBAAiBA,CAACC,MAAM,CAAEC,IAAI,CAAEhB,OAAO,CAAEC,SAAS,CAAEgB,IAAI,CAAE,CACxE,KAAM,CAAAT,QAAQ,CAAGd,MAAM,CAACI,iBAAiB,CAAC,CAAEG,SAAU,CAAC,CAAC,CAAC,CAEzD,GAAI,CAAAiB,eAAe,CAAG,IAAI,CAE1B,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,OAAO,CAAGtB,iBAAiB,CAAC,CAAEE,OAAO,CAAEC,SAAU,CAAC,CAAC,CACzDc,MAAM,CAAC,CAAEM,OAAO,CAAEb,QAAQ,CAACH,OAAO,CAAEe,OAAQ,CAAC,CAAC,CAC9CZ,QAAQ,CAACH,OAAO,CAAGe,OAAO,CAC1BF,eAAe,CAAG,IAAI,CACxB,CAAC,CAEDvB,yBAAyB,CAAC,IAAM,CAC9B,GAAI,CAACC,SAAS,CAAE,CACd,OACF,CAEA,KAAM,CAAA0B,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIL,IAAI,CAAE,CACR,GAAIC,eAAe,GAAK,IAAI,CAAE,CAC5BA,eAAe,CAAGK,UAAU,CAACJ,QAAQ,CAAEF,IAAI,CAAC,CAC9C,CACF,CAAC,IAAM,CACLE,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAEDtB,MAAM,CAAC2B,gBAAgB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CAE/C,MAAO,IAAM,CACXzB,MAAM,CAAC4B,mBAAmB,CAAC,QAAQ,CAAEH,YAAY,CAAC,CAClDJ,eAAe,EAAIQ,YAAY,CAACR,eAAe,CAAC,CAClD,CAAC,CACH,CAAC,CAAEF,IAAI,CAAC,CACV,CAEAF,iBAAiB,CAACa,YAAY,CAAG,CAC/BX,IAAI,CAAE,EAAE,CACRhB,OAAO,CAAE,KAAK,CACdC,SAAS,CAAE,KAAK,CAChBgB,IAAI,CAAE,IACR,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}